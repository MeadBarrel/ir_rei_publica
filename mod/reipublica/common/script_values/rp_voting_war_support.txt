rp_voting_wardec_personal = {
	value = rp_pi_pref_warlike_scaled

	add = rp_svp_warlike

	# From traits

	if = {  # Zealous/pious and they have wrong religion
		limit = {
			or = {
				has_trait = zealous
				has_trait = pious
			}
			not = { has_same_religion_as = scope:target.current_ruler }
		}
		add = 5
	}

	if = {
		limit = { # Has no holdings
			num_holdings_owned = 0 
			employer = { possible_holdings <= total_holdings }
		}
		add = 5
	}

	if = {  # Still have space for more holdings
		limit = { 
			num_holdings_owned < max_holdings_owned 
			employer = { possible_holdings <= total_holdings }
		}
		add = 3
	}

	if = {  # We have enough holdings
		limit = {
			num_holdings_owned = max_holdings_owned
		}
		add = -3
	}

	if = {  # Has loyal friend in their country
		limit = {
			any_friend = {
				employer = scope:target
				loyalty >= 70
			}
		}
		add = -5
	}

	if = {  # Is friend of their ruler
		limit = { is_friend = scope:target.current_ruler }
		add = -10
	}


	if = {  # Has loyal rival in their country
		limit = {
			any_rival = {
				employer = scope:target
				loyalty > 70
			}
		}
		add = 5
	}

	if = {  # Their ruler is our rival
		limit = {
			is_rival = scope:target.current_ruler
		}
		add = 20
	}

	if = {  # We are not of the main culture and the target's ruler has the same culture as ours
		limit = {
			not = { has_same_culture_as = employer.current_ruler }
			has_same_culture_as = scope:target.current_ruler
		}
		add = -3
	}

	if = {  # Our holdings in danger of being occupied
		limit = {
			any_holdings = {
				OR = {
					any_neighbor_province = {
						owner = scope:target
					}
					NOT = {
						OR = {
							fort_level > 0
							any_neighbor_province ={
								owner = employer
								fort_level > 0 
							}
						}
					}
				}
			}
		}
		add = -5
	}
}

rp_voting_wardec_ruler = {
	value = rp_voting_wardec_personal
	add = rp_voting_support_ruler
}


rp_voting_wardec_military_party_ruler = {
	value = 0
	every_in_list = {
		variable = military_party_members
		limit = { can_vote = yes }
		if = { limit={ rp_voting_wardec_ruler>0 } add=rp_character_voting_power }
		else = { add={value=rp_character_voting_power multiply=-1} }
	}
	multiply = 0.75
}


rp_voting_wardec_civic_party_ruler = {
	value = 0
	every_in_list = {
		variable = civic_party_members
		limit = { can_vote = yes }
		if = { limit={ rp_voting_wardec_ruler>0 } add=rp_character_voting_power }
		else = { add={value=rp_character_voting_power multiply=-1} }
	}
	multiply = 0.75
}


rp_voting_wardec_religious_party_ruler = {
	value = 0
	every_in_list = {
		variable = religious_party_members
		limit = { can_vote = yes }
		if = { limit={ rp_voting_wardec_ruler>0 } add=rp_character_voting_power }
		else = { add={value=rp_character_voting_power multiply=-1} }
	}
	multiply = 0.75
}


rp_voting_wardec_mercantile_party_ruler = {
	value = 0
	every_in_list = {
		variable = mercantile_party_members
		limit = { can_vote = yes }
		if = { limit={ rp_voting_wardec_ruler>0 } add=rp_character_voting_power }
		else = { add={value=rp_character_voting_power multiply=-1} }
	}
	multiply = 0.75
}


rp_voting_wardec_populist_party_ruler = {
	value = 0
	every_in_list = {
		variable = populist_party_members
		limit = { can_vote = yes }
		if = { limit={ rp_voting_wardec_ruler>0 } add=rp_character_voting_power }
		else = { add={value=rp_character_voting_power multiply=-1} }
	}
	multiply = 0.75
}


rp_voting_wardec_opinion_value = {
	if = {
		limit = { opinion = { target = scope:target value > 150 } }
		value = -0.09
	}
	else_if = {
		limit = { opinion = { target = scope:target value > 100 } }
		value = -0.06
	}
	else_if = {
		limit = { opinion = { target = scope:target value > 50 } }
		value = -0.03
	}	
	else_if = {
		limit = { opinion = { target = scope:target value < -150 } }
		value = 0.09
	}	
	else_if = {
		limit = { opinion = { target = scope:target value < -100 } }
		value = 0.06
	}	
	else_if = {
		limit = { opinion = { target = scope:target value < -50 } }
		value = 0.03
	}	
}